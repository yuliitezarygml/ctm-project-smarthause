# üè† Smart Home IoT System

![Project Banner](assets/banner.png)

![Status](https://img.shields.io/badge/Status-Active-success?style=for-the-badge&logo=statuspage)
![Platform](https://img.shields.io/badge/Stack-ESP32%20%7C%20Go%20%7C%20Next.js%20%7C%20Flutter-blue?style=for-the-badge)
![License](https://img.shields.io/badge/License-MIT-purple?style=for-the-badge)

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ —É–º–Ω–æ–≥–æ –¥–æ–º–∞. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ IoT: –æ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –¥–æ –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ Backend-—Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

---

## üîå –°—Ö–µ–º–∞ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è (Hardware Wiring)

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –¥–≤–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —É–∑–ª–∞ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ —É–¥–æ–±—Å—Ç–≤–∞ –º–æ–Ω—Ç–∞–∂–∞.

### üìü –£–∑–µ–ª 1: –°–µ–Ω—Å–æ—Ä—ã –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (ESP32 Main)
–≠—Ç–æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—Ö–æ–¥–Ω—É—é –≥—Ä—É–ø–ø—É, –∫–ª–∏–º–∞—Ç –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

```mermaid
graph LR
    ESP1[üìü ESP32 Main]
    
    subgraph Sensors
    DHT[üå°Ô∏è DHT11 Temp/Hum] -- GPIO 4 --> ESP1
    Soil[üå± Soil Moisture] -- GPIO 34 (Analog) --> ESP1
    end
    
    subgraph Security
    Relay[üîå Main Relay 220V] -- GPIO 26 --> ESP1
    RFID[üí≥ RC522 Reader] 
    RFID -- SDA/SS: GPIO 5 --> ESP1
    RFID -- RST: GPIO 22 --> ESP1
    RFID -- SCK: GPIO 18 --> ESP1
    RFID -- MOSI: GPIO 23 --> ESP1
    RFID -- MISO: GPIO 19 --> ESP1
    end
```

### üí° –£–∑–µ–ª 2: –û—Å–≤–µ—â–µ–Ω–∏–µ (ESP32 Lighting)
–≠—Ç–æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç 6-—é –∑–æ–Ω–∞–º–∏ –æ—Å–≤–µ—â–µ–Ω–∏—è –≤ –¥–æ–º–µ.

```mermaid
graph LR
    ESP2[üí° ESP32 Lighting]
    
    Lamp1[–õ–∞–º–ø–∞ 1] -- GPIO 12 --> ESP2
    Lamp2[–õ–∞–º–ø–∞ 2] -- GPIO 13 --> ESP2
    Lamp3[–õ–∞–º–ø–∞ 3] -- GPIO 14 --> ESP2
    Lamp4[–õ–∞–º–ø–∞ 4] -- GPIO 27 --> ESP2
    Lamp5[–õ–∞–º–ø–∞ 5] -- GPIO 26 --> ESP2
    Lamp6[–õ–∞–º–ø–∞ 6] -- GPIO 25 --> ESP2
```

> **–í–∞–∂–Ω–æ:** –í—Å–µ —Å–≤–µ—Ç–æ–¥–∏–æ–¥—ã/–ª–∞–º–ø—ã –¥–æ–ª–∂–Ω—ã –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ —Ç–æ–∫–æ–æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏–µ —Ä–µ–∑–∏—Å—Ç–æ—Ä—ã (220 –û–º) –∏–ª–∏ —á–µ—Ä–µ–∑ MOSFET-—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä—ã, –µ—Å–ª–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞–≥—Ä—É–∑–∫–∞ 12V/220V.

---

## üìÖ –ò—Å—Ç–æ—Ä–∏—è –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (Development Journey)

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–∏–≤–∞–ª—Å—è –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ. –í–æ—Ç —Å–ø–∏—Å–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç:

### –≠—Ç–∞–ø 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç (MVP)
- [x] –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ **Backend –Ω–∞ Go (Gin)**: –°–æ–∑–¥–∞–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ REST API.
- [x] –°–æ–∑–¥–∞–Ω–∏–µ **Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: –ë–∞–∑–æ–≤—ã–π UI –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
- [x] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ **ESP32 #1**: –ß—Ç–µ–Ω–∏–µ DHT11 –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ JSON –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

### –≠—Ç–∞–ø 2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏ UI
- [x] **Web Dashboard (Next.js)**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω "Glassmorphism" –¥–∏–∑–∞–π–Ω.
- [x] **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –í–Ω–µ–¥—Ä–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (Polling).
- [x] **Weather API**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenWeatherMap –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ–≥–æ–¥—ã.

### –≠—Ç–∞–ø 3: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ RFID
- [x] **RFID Auth System**: –ü–æ–¥–∫–ª—é—á–µ–Ω –º–æ–¥—É–ª—å RC522.
- [x] **–ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö –ö–∞—Ä—Ç**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö UID –≤ `cards.json`.
- [x] **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –í—Ö–æ–¥**: –ü—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–∞—Ä—Ç—ã —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –∏ –≤–∫–ª—é—á–∞–µ—Ç —Å–≤–µ—Ç.
- [x] **UI –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –î–æ—Å—Ç—É–ø–æ–º**: –î–æ–±–∞–≤–ª–µ–Ω—ã —ç–∫—Ä–∞–Ω—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è –∫–∞—Ä—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ –Ω–∞ —Å–∞–π—Ç–µ.

### –≠—Ç–∞–ø 4: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (Dual ESP)
- [x] **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –õ–æ–≥–∏–∫–∏**: –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç –æ–¥–Ω–æ–≥–æ ESP32 –∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏–∑ –¥–≤—É—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤.
- [x] **Lighting API**: –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª —Å–≤—è–∑–∏ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ª–∞–º–ø –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–æ–º –∏ ESP #2.

---

## üêõ –ü—Ä–µ–æ–¥–æ–ª–µ–Ω–Ω—ã–µ –¢—Ä—É–¥–Ω–æ—Å—Ç–∏ (Challenges & Fixes)

–í —Ö–æ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º—ã —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å —Å —Ä—è–¥–æ–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º:

| –ü—Ä–æ–±–ª–µ–º–∞ (Bug) | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------------|---------|---------|
| **"–ü—Ä–∏–∑—Ä–∞–∫ —Å—Ç–∞—Ä–æ–≥–æ IP"** | –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Flutter –∫—ç—à–∏—Ä–æ–≤–∞–ª–æ —Å—Ç–∞—Ä—ã–π IP (`192.168.100.229`) –∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥–µ. | –í–Ω–µ–¥—Ä–µ–Ω–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ: –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω —Å—Ç–∞—Ä—ã–π IP, –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π. |
| **Race Condition –≤ Go** | –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –æ—Ç ESP –∏ —á—Ç–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–º –ø—Ä–∏–≤–æ–¥–∏–ª–∏ –∫ –ø–∞–¥–µ–Ω–∏—é —Å–µ—Ä–≤–µ—Ä–∞ (`concurrent map write`). | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã `sync.Mutex` (`mu.Lock/Unlock`) –¥–ª—è –∑–∞—â–∏—Ç—ã –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏. |
| **–®—Ä–∏—Ñ—Ç—ã –Ω–∞ Android** | `GoogleFonts` –Ω–µ –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –≤—ã–∑—ã–≤–∞—è –∫—Ä–∞—à –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. | –î–æ–±–∞–≤–ª–µ–Ω —Ñ–æ–ª–ª–±—ç–∫ –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—ã–π —à—Ä–∏—Ñ—Ç `monospace` –ø—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏. |
| **–†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω UI** | –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –ª–∞–º–ø—ã UI –æ–±–Ω–æ–≤–ª—è–ª—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç `data` –æ—Å—Ç–∞–≤–∞–ª—Å—è —Å—Ç–∞—Ä—ã–º. | –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ Flutter –ø—Ä–∏ –ª—é–±–æ–º –¥–µ–π—Å—Ç–≤–∏–∏. |
| **Next.js Proxy Error** | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ–∫—Å–∏ Next.js –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª –ª–æ–∫–∞–ª—å–Ω—ã–µ IP –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–µ—Ç—è—Ö. | –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Go-—Å–µ—Ä–≤–µ—Ä—É —Å –≤–∫–ª—é—á–µ–Ω–∏–µ–º CORS (`Access-Control-Allow-Origin: *`). |

---

## üîÆ –ü–ª–∞–Ω –†–∞–∑–≤–∏—Ç–∏—è (Roadmap)

- [ ] **üìà –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö**: –ú–∏–≥—Ä–∞—Ü–∏—è —Å JSON-—Ñ–∞–π–ª–æ–≤ –Ω–∞ PostgreSQL.
- [ ] **ü§ñ AI Automation**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ —Å–≤–µ—Ç–∞, –µ—Å–ª–∏ –≤ –∫–æ–º–Ω–∞—Ç–µ –Ω–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è 30 –º–∏–Ω—É—Ç.
- [ ] **üîî Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: Firebase Cloud Messaging –¥–ª—è –æ–ø–æ–≤–µ—â–µ–Ω–∏–π –æ –≤–∑–ª–æ–º–µ/–≤—Ö–æ–¥–µ.
- [ ] **üó£Ô∏è –ì–æ–ª–æ—Å–æ–≤–æ–µ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ê–ª–∏—Å–æ–π / Google Assistant.

---

<div align="center">

**Developed with ‚ù§Ô∏è by [Terentii Iulian]**

üåü Star this repo if you like it!

</div>
